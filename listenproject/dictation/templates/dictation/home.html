<h1>ğŸ§ å¬å†™ç»ƒä¹  App é¦–é¡µ</h1>

<p><a href="{% url 'create_material' %}">â• è¾“å…¥å¬å†™ææ–™</a></p>
<p><a href="{% url 'practice_setting' %}">â–¶ï¸ å¼€å§‹ç»ƒä¹ </a></p>
<p><a href="{% url 'review_page' %}">ğŸ“„ éªŒæ”¶é¡µé¢ï¼ˆä»…æµ‹è¯•ï¼‰</a></p>
<p><a href="{% url 'material_list' %}">ğŸ“š æŸ¥çœ‹æ‰€æœ‰å¬å†™ææ–™</a></p>
<p><a href="{% url 'answer_record_list' %}">ğŸ“Š æŸ¥çœ‹ç­”é¢˜è®°å½•</a></p>
<p><a href="{% url 'review_wrong_list' %}">âŒ æŸ¥çœ‹é”™é¢˜è®°å½•</a></p>

{% if user.is_authenticated %}
  ğŸ‘‹ æ¬¢è¿ {{ user.username }}
  <form method="post" action="{% url 'logout' %}" style="display: inline;">
    {% csrf_token %}
    <button type="submit">ç™»å‡º</button>
  </form>
{% else %}
  <a href="{% url 'login' %}">ç™»å½•</a> | <a href="{% url 'signup' %}">æ³¨å†Œ</a>
{% endif %}

<h2>ğŸ›  å·¥å…·</h2>
<button onclick="checkMic()">ğŸ¤ æ£€æŸ¥éº¦å…‹é£</button>
<p id="mic-status" style="margin-top: 10px; color: green;"></p>
<script>
  function checkMic() {
      const statusEl = document.getElementById('mic-status');
      if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
          statusEl.textContent = "âŒ å½“å‰æµè§ˆå™¨ä¸æ”¯æŒéº¦å…‹é£åŠŸèƒ½ã€‚è¯·ä½¿ç”¨ Chromeã€Edge æˆ–å…¶ä»–ç°ä»£æµè§ˆå™¨ã€‚";
          statusEl.style.color = 'red';
          return;
      }
  
      navigator.mediaDevices.getUserMedia({ audio: true })
          .then(stream => {
              statusEl.textContent = "âœ… éº¦å…‹é£å¯ç”¨ï¼å¯ä»¥ä½¿ç”¨è¯­éŸ³å½•å…¥åŠŸèƒ½ã€‚";
              statusEl.style.color = 'green';
              stream.getTracks().forEach(track => track.stop());  // å…³é—­æµ
          })
          .catch(error => {
              statusEl.textContent = "âš ï¸ æ£€æµ‹å¤±è´¥ï¼Œè¯·ç¡®ä¿æµè§ˆå™¨å·²æˆæƒéº¦å…‹é£æƒé™ã€‚";
              statusEl.style.color = 'orange';
              console.warn("éº¦å…‹é£æ£€æµ‹å¤±è´¥ï¼š", error);
          });
  }
  </script>